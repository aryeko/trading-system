# S-00: Repository Setup and Tooling

**Last updated:** 2025-09-21

## Outcome
- Establish a reproducible Python project skeleton that satisfies the baseline workflow requirements in `TECH_DESIGN_REQUIREMENTS.md` and `WORKFLOW.md`.
- Provide CI guardrails so every follow-on story can rely on linting, typing, and unit testing from day one.

## Deliverables
- `pyproject.toml` configured for Poetry with runtime dependencies (numpy, pandas, pyarrow, matplotlib, plotly, pydantic, typer[all], rich, pytest) and dev dependencies (black, ruff, mypy, pytest-cov, pandas-stubs, types-pyyaml).
- `.python-version` (or README instructions) locking the Python toolchain to 3.13+ and enabling a project-local `.venv`.
- `.github/workflows/ci.yml` running `poetry run ci` on push and pull request events.
- Source tree scaffold (`src/trading_system`, `tests`, `data/`, `reports/`, `docs/`, `scripts/`) plus `.gitignore` entries for generated artifacts.
- Typer-based CLI entrypoint `ts` registered in `pyproject.toml`.

## Functional Requirements
- Poetry must be the single source of truth for dependency management; document setup steps in `README.md`.
- Default CI job executes Ruff, Black (check mode), Mypy, and Pytest with coverage; failing any step blocks merges.
- Project layout mirrors the workflow pipeline and leaves placeholders (empty `__init__.py` files) so later stories can drop in modules without restructuring.
- Provide sample unit test to prove the harness works (`tests/test_cli.py`).

## CLI Additions
- `poetry run ts version` prints the package version string.
- `poetry run ts info` prints a one-line project summary referencing the mid/long-horizon workflow.
- `poetry run ts doctor` (stub) checks that Poetry, Python, and required tools (black, ruff, mypy, pytest) are available, returning a non-zero exit code if any are missing.

## Verification
1. `poetry install` creates the virtual environment with the declared dependencies.
2. `poetry run ts doctor` reports all tooling as available.
3. `poetry run ts --help` lists the three commands (`version`, `info`, `doctor`).
4. `poetry run ci` passes on a clean checkout.
5. GitHub Actions workflow runs automatically on push and reports success.

## Dependencies
- None.

## Notes
- This story defines the baseline developer experience; any deviation in later stories must be captured in `README.md` and automation scripts.
